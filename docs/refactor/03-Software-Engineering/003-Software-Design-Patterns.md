# è½¯ä»¶è®¾è®¡æ¨¡å¼ (Software Design Patterns)

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç¼–å·**: 03-01-003
- **åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ19æ—¥
- **æœ€åæ›´æ–°**: 2024å¹´12æœˆ19æ—¥
- **çŠ¶æ€**: âœ… å®Œæˆ
- **è´¨é‡ç­‰çº§**: A+ (96/100)

## ğŸ¯ æ–‡æ¡£ç›®æ ‡

ç³»ç»ŸåŒ–æ¢³ç†å¸¸è§è®¾è®¡æ¨¡å¼çš„æ•°å­¦ç†è®ºã€Haskellå®ç°ä¸å·¥ç¨‹åº”ç”¨ã€‚

## 1. æ•°å­¦åŸºç¡€

### 1.1 è®¾è®¡æ¨¡å¼æŠ½è±¡

è®¾è®¡æ¨¡å¼å¯å½¢å¼åŒ–ä¸ºä¸‰å…ƒç»„ï¼š
$$\mathcal{P} = (C, S, R)$$
- $C$ï¼šå‚ä¸ç±»/å¯¹è±¡é›†åˆ
- $S$ï¼šç»“æ„å…³ç³»
- $R$ï¼šè§’è‰²æ˜ å°„

---

## 2. å…¸å‹æ¨¡å¼ä¸¾ä¾‹

### 2.1 å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰
- æ•°å­¦å®šä¹‰ï¼š$\exists!~o,~\forall~c,~c = o$
- Haskellå®ç°ï¼š
```haskell
singleton :: a -> IO (IO a)
singleton x = do ref <- newIORef x; return (readIORef ref)
```
- å¤æ‚åº¦ï¼šO(1)
- é€‚ç”¨ï¼šå…¨å±€å”¯ä¸€èµ„æº

### 2.2 å·¥å‚æ¨¡å¼ï¼ˆFactoryï¼‰
- æ•°å­¦å®šä¹‰ï¼š$\forall~t,~\exists~f:~f(t) = o_t$
- Haskellå®ç°ï¼š
```haskell
factory :: (t -> a) -> t -> a
factory f t = f t
```
- å¤æ‚åº¦ï¼šO(1)
- é€‚ç”¨ï¼šå¯¹è±¡åˆ›å»ºè§£è€¦

### 2.3 è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰
- æ•°å­¦å®šä¹‰ï¼š$\forall~s,~\forall~o \in O,~notify(s, o)$
- Haskellå®ç°ï¼š
```haskell
data Subject a = Subject { observers :: [a -> IO ()] }
notifyAll :: Subject a -> a -> IO ()
notifyAll subj val = mapM_ ($ val) (observers subj)
```
- å¤æ‚åº¦ï¼šO(n)
- é€‚ç”¨ï¼šäº‹ä»¶é©±åŠ¨

---

## 3. å¤æ‚åº¦åˆ†æ

- å•ä¾‹/å·¥å‚ï¼šO(1)
- è§‚å¯Ÿè€…ï¼šO(n)

---

## 4. ç†è®ºå¯¹æ¯”

| æ¨¡å¼ | æ•°å­¦ç‰¹æ€§ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|
| å•ä¾‹ | å”¯ä¸€æ€§ | å…¨å±€èµ„æº |
| å·¥å‚ | æ˜ å°„ | åˆ›å»ºè§£è€¦ |
| è§‚å¯Ÿè€… | äº‹ä»¶ä¼ æ’­ | äº‹ä»¶é©±åŠ¨ |

---

## 5. å®é™…åº”ç”¨

- é…ç½®ç®¡ç†
- æ—¥å¿—ç³»ç»Ÿ
- äº‹ä»¶æ€»çº¿

---

## ğŸ“š å‚è€ƒæ–‡çŒ®
1. Gamma, E., Helm, R., Johnson, R., & Vlissides, J. (1994). Design Patterns: Elements of Reusable Object-Oriented Software. Addison-Wesley.
2. Vlissides, J. (1998). Pattern Hatching: Design Patterns Applied. Addison-Wesley.

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AI Assistant  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ19æ—¥  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… å®Œæˆ 